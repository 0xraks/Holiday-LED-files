homeassistant:
  # Name of the location where Home Assistant is running
  name: Home
  #icon: mdi:castle
  # Location required to calculate the time the sun rises and sets
  latitude: 40.440396
  longitude: -111.763075
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: 1556
  # metric for Metric, imperial for Imperial
  unit_system: imperial
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: America/Denver
  # UI
  customize:
    #device_tracker.justin_adens_iphone:
     # friendly_name: DrZzs
      #entity_picture: /local/DrZzs_Emoji.png
    cover.double:
      device_class: garage
      friendly_name: Janis Garage
    cover.single:
      device_class: garage
      friendly_name: Justin Garage
    sensor.justin_adens_iphone_battery_level:
      hidden: true
    sensor.justins_iphone_7_battery_level:
      hidden: true
    sensor.justins_iphone_7_battery_state:
      hidden: true
    sensor.justin_adens_iphone_battery_state:
      hidden: True
    sensor.dawsons_ipod_touch_battery_level:
      hidden: True
    sensor.dawsons_ipod_touch_battery_state:
      hidden: True
    sensor.zoes_ipod_touch_battery_level:
      hidden: True
    sensor.zoes_ipod_touch_battery_state:
      hidden: True
    device_tracker.justin_iphone:
      hidden: True
    device_tracker.adensville_iphonejustin:
      hidden: True
#      friendly_name: Justin
#      entity_picture: /local/DrZzs_Emoji.png
    device_tracker.phonejustin_iphonejustin:
      friendly_name: DrZzs
      entity_picture: /local/DrZzs_Emoji.png
    device_tracker.dawsons_ipod_touch:
      friendly_name: Dawson
      entity_picture: /local/D_emoji.png
    device_tracker.zoes_ipod_touch:
      friendly_name: ZipZo
      entity_picture: /local/ZipZo_icon.png
    device_tracker.phonejackson_phonejackson:
      friendly_name: Jackson
      entity_picture: /local/Jackson_icon.png
    sensor.mommys_iphone_battery_level:
      hidden: True
    sensor.mommys_iphone_battery_state:
      hidden: True
    device_tracker.janisphone_janisphone:
      friendly_name: Mommy
      entity_picture: /local/Kiss_emoji.png
    device_tracker.janis_iphone:
      hidden: True
#      friendly_name: Janis
#      entity_picture: /local/Kiss_emoji.png
    sensor.blink_mountain_room_temperature:
      friendly_name: Mountian Room
    sensor.blink_Basement_Notifications:
      hidden: True
    sensor.date__time:
      hidden: True
    sensor.blink_Garage_Notifications:
      hidden: True
    sensor.blink_Toy_Room_Notifications:
      hidden: True
    sensor.blink_Piano_Room_Notifications:
      hidden: True
    sensor.blink_Mountain_Room_Notifications:
      hidden: True
    sensor.blink_Basement_Battery:
      hidden: True
    sensor.blink_Garage_Battery:
      hidden: True
    sensor.blink_Toy_Room_Battery:
      hidden: True
    sensor.blink_Piano_Room_Battery:
      hidden: True
    sensor.blink_Mountain_Room_Battery:
      hidden: True
    zone.home:
      track_ios: True
    sensor.octoprint_target_tool0_temp:
        hidden: true
    sensor.octoprint_target_tool1_temp:
        hidden: true
    sensor.octoprint_target_bed_temp:
        hidden: true
    sensor.octoprint_actual_tool1_temp:
        hidden: true
    sensor.octoprint_actual_tool0_temp:
        hidden: true
    sensor.octoprint_actual_bed_temp:
        hidden: true
    binary_sensor.octoprint_printing:
        hidden: true
    binary_sensor.octoprint_printing_error:
        hidden: true
    sensor.octoprint_current_state:
        icon: mdi:printer-3d
    sensor.octoprint_job_percentage:
        icon: mdi:percent
    sensor.yr_symbol:
      friendly_name: Forcast
    sensor.yr_temperature:
      friendly_name: Temp
      
# Show links to resources in log and frontend
# introduction:
zone 1:
  name: Work
  latitude: 40.660059
  longitude: -111.891271
  radius: 200
#  icon: mdi:hospital-building
#
zone 2:
  name: LP HS
  latitude: 40.418139
  longitude: -111.774975
  radius: 200
#  icon: mdi:school
# 
zone 3:
  name: Costco
  latitude: 40.389996
  longitude: -111.823228
#  icon: mdi:cart
#
zone 4:
  name: TL MS
  latitude: 40.450592
  longitude: -111.787094
#  icon: mdi:football
#
zone 5:
  name: WF ES
  latitude: 40.448204
  longitude: -111.790441
#  icon: mdi:library
#
zone 6:
  name: Home
  latitude: 40.440396
  longitude: -111.763075
  icon: mdi:castle
#
zone 7:
  name: Walmart
  latitude: 40.416592
  longitude: -111.769673
#
zone 8:
  name: AF Shops
  latitude: 40.379017
  longitude: -111.815606
  radius: 500
#
zone 9:
  name: Smiths
  latitude: 40.429709
  longitude: -111.823968
  radius: 300
  #
# zone _:
#   name: Chicfila
#   latitude: 40.381498
#   longitude: -111.814242
######################################

mqtt:
  broker: 192.168.1.71
  port: 1883
  client_id: home-assistant-1
  username: adensville
  password: Dr091774
  
  # broker: m13.cloudmqtt.com
  # port: 14724
  # client_id: home-assistant-2
  # username: HomeAssistant
  # password: Dr091774
###################################################
##### OctoPrint #####
###################################################
    
#### Octoprint Server ####
octoprint:
    host: 192.168.1.17
    api_key: 9F84FD9C3CE44C00AD1F6814FFA034A7
###################################################
##### Web Camera #####
###################################################  
ffmpeg:

camera:
    - platform: mjpeg
      mjpeg_url: http://192.168.1.17:8080/?action=stream/
      name: _OctoPrint
    - platform: arlo
#    - platform: ffmpeg
#      input: 

#######################################
############## Holiday Outside Lights ######
#######################################
light:
  - platform: mqtt
    name: "Holiday Lights"
    command_topic: "bruh/mqttstrip/setpower"
    state_topic: "bruh/mqttstrip/setpowerpub"
    rgb_state_topic: "bruh/mqttstrip/setcolorpub"
    rgb_command_topic: "bruh/mqttstrip/setcolor"
    brightness_state_topic: "bruh/mqttstrip/setbrightnesspub"
    brightness_command_topic: "bruh/mqttstrip/setbrightness"
    optimistic: false
  - platform: mqtt
    name: "Side Lights"
    command_topic: "bruh/mqttstripSide/setpower"
    state_topic: "bruh/mqttstripSide/setpowerpub"
    rgb_state_topic: "bruh/mqttstripSide/setcolorpub"
    rgb_command_topic: "bruh/mqttstripSide/setcolor"
    brightness_state_topic: "bruh/mqttstripSide/setbrightnesspub"
    brightness_command_topic: "bruh/mqttstripSide/setbrightness"
    optimistic: false
  - platform: mqtt
    name: "Tree Lights"
    command_topic: "bruh/mqttstripTree/setpower"
    state_topic: "bruh/mqttstripTree/setpowerpub"
    rgb_state_topic: "bruh/mqttstripTree/setcolorpub"
    rgb_command_topic: "bruh/mqttstripTree/setcolor"
    brightness_state_topic: "bruh/mqttstripTree/setbrightnesspub"
    brightness_command_topic: "bruh/mqttstripTree/setbrightness"
    optimistic: false

input_select:
  holiday_led_effect:
    name: Holiday LED Effect
    options:
     - "Christmas"
     - "Candy Cane"
     - "Holly Jolly"
     - "Valentine"
     - "Lovey Day"
     - "St Patty"
     - "Easter"
     - "USA"
     - "Independence"
     - "Go Blue"
     - "Hail"
     - "Touchdown"
     - "Halloween"
     - "Punkin"
     - "Thanksgiving"
     - "Turkey Day"
     - "BPM"
     - "Confetti"
     - "Cyclon Rainbow"
     - "Dots"
     - "Fire"
     - "Glitter"
     - "Juggle"
     - "Lightning"
     - "Police All"
     - "Police One"
     - "Rainbow"
     - "Rainbow with Glitter"
     - "Ripple"
     - "Sinelon"
     - "Solid"
     - "Twinkle"
    initial: "Solid"
  
  side_led_effect:
    name: Side LED Effect
    options:
     - "Christmas"
     - "Candy Cane"
     - "Holly Jolly"
     - "Valentine"
     - "Lovey Day"
     - "St Patty"
     - "Easter"
     - "USA"
     - "Independence"
     - "Go Blue"
     - "Hail"
     - "Touchdown"
     - "Halloween"
     - "Punkin"
     - "Thanksgiving"
     - "Turkey Day"
     - "BPM"
     - "Confetti"
     - "Cyclon Rainbow"
     - "Dots"
     - "Fire"
     - "Glitter"
     - "Juggle"
     - "Lightning"
     - "Police All"
     - "Police One"
     - "Rainbow"
     - "Rainbow with Glitter"
     - "Ripple"
     - "Sinelon"
     - "Solid"
     - "Twinkle"
    initial: "Solid"  
    
  tree_led_effect:
    name: Tree LED Effect
    options:
     - "Christmas"
     - "Candy Cane"
     - "Holly Jolly"
     - "Valentine"
     - "Lovey Day"
     - "St Patty"
     - "Easter"
     - "USA"
     - "Independence"
     - "Go Blue"
     - "Hail"
     - "Touchdown"
     - "Halloween"
     - "Punkin"
     - "Thanksgiving"
     - "Turkey Day"
     - "BPM"
     - "Confetti"
     - "Cyclon Rainbow"
     - "Dots"
     - "Fire"
     - "Glitter"
     - "Juggle"
     - "Lightning"
     - "Police All"
     - "Police One"
     - "Rainbow"
     - "Rainbow with Glitter"
     - "Ripple"
     - "Sinelon"
     - "Solid"
     - "Twinkle"
    initial: "Solid"
  
  all_led_effect:
    name: All LED Effect
    options:
     - "Christmas"
     - "Candy Cane"
     - "Holly Jolly"
     - "Valentine"
     - "Lovey Day"
     - "St Patty"
     - "Easter"
     - "USA"
     - "Independence"
     - "Go Blue"
     - "Hail"
     - "Touchdown"
     - "Halloween"
     - "Punkin"
     - "Thanksgiving"
     - "Turkey Day"
     - "BPM"
     - "Confetti"
     - "Cyclon Rainbow"
     - "Dots"
     - "Fire"
     - "Glitter"
     - "Juggle"
     - "Lightning"
     - "Police All"
     - "Police One"
     - "Rainbow"
     - "Rainbow with Glitter"
     - "Ripple"
     - "Sinelon"
     - "Solid"
     - "Twinkle"
    initial: "Solid"
  
  hass_theme:
    name: HASS themes
    options:
      - default
      - solarized
      - PmxMononight
      - wood
      - Christmas
      - Tester
    initial: wood
    icon: mdi:theme-light-dark

input_number:
  animation_speed:
    name: Animation Speed
    initial: 150
    min: 1
    max: 150
    step: 10
  side_speed:
    name: Side Animation Speed
    initial: 150
    min: 1
    max: 150
    step: 10
  tree_speed:
    name: Tree Animation Speed
    initial: 150
    min: 1
    max: 150
    step: 10
  all_speed:
    name: All Animation Speed
    initial: 150
    min: 1
    max: 150
    step: 10
####################################################################
################ Automations the Old Fashion Way ###################
####################################################################

automation old: 

  - alias: "Holiday Input Effect"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_select.holiday_led_effect
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstrip/seteffect"
          payload: '{{ trigger.to_state.state | string }}'

  - alias: "Side Input Effect"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_select.side_led_effect
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripSide/seteffect"
          payload: '{{ trigger.to_state.state | string }}'

  - alias: "Tree Input Effect"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_select.tree_led_effect
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTree/seteffect"
          payload: '{{ trigger.to_state.state | string }}'

  - alias: "All Input Effect"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_select.all_led_effect
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstrip/seteffect"
          payload: '{{ trigger.to_state.state | string }}'
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripSide/seteffect"
          payload: '{{ trigger.to_state.state | string }}'
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTree/seteffect"
          payload: '{{ trigger.to_state.state | string }}'

  - alias: "Animation Speed"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_number.animation_speed
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstrip/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'

  - alias: "Side Animation Speed"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_number.side_animation_speed
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripSide/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'
  - alias: "Tree Animation Speed"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_number.tree_animation_speed
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTree/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'

  - alias: "All Animation Speed"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_number.all_animation_speed
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstrip/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripSide/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTree/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'





















  - alias: "Christmas LED Sunset Rotation"
    initial_state: true
    trigger:
      - platform: sun
        event: Sunset
    condition:
      - condition: template
        value_template: '{{ now().month == 12 }}'
    action:
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstrip/seteffect"
          payload: 'Holly Jolly'
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstripSide/seteffect"
          payload: 'Holly Jolly'      
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstripTree/seteffect"
          payload: 'Holly Jolly'
      - delay: 01:00:00
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstrip/seteffect"
          payload: 'Candy Cane' 
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstripSide/seteffect"
          payload: 'Candy Cane' 
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstripTree/seteffect"
          payload: 'Candy Cane' 
      - delay: 01:00:00
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstrip/seteffect"
          payload: 'Christmas'
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstripSide/seteffect"
          payload: 'Christmas'
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstripTree/seteffect"
          payload: 'Christmas'
      - delay: 01:00:00            
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstrip/seteffect"
          payload: 'Holly Jolly' 
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstripSide/seteffect"
          payload: 'Holly Jolly' 
      - service: mqtt.publish
        data:
          topic: "bruh/mqttstripTree/seteffect"
          payload: 'Holly Jolly' 
















  - alias: "All Animation Speed"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_number.all_animation_speed
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstrip/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTree/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripSIDE/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTEST/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'

  - alias: "Side Animation Speed"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_number.side_animation_speed
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripSIDE/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'

  - alias: "Office Test Input Effect"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_select.office_test_led_effect
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTEST/seteffect"
          payload: '{{ trigger.to_state.state | string }}'

  - alias: "Test Animation Speed"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_number.test_animation_speed
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTEST/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'

  - alias: "Tree Input Effect"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_select.tree_led_effect
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTree/seteffect"
          payload: '{{ trigger.to_state.state | string }}'

  - alias: "Tree Animation Speed"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_number.tree_animation_speed
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripTree/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'

  - alias: "Box Input Effect"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_select.box_led_effect
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripBox/seteffect"
          payload: '{{ trigger.to_state.state | string }}'

  - alias: "Box Animation Speed"
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_number.box_animation_speed
    action:
      - service: mqtt.publish
        data_template:
          topic: "bruh/mqttstripBox/setanimationspeed"
          payload: '{{ trigger.to_state.state | int }}'


  - alias: "Justin Garage Notification iOS"
    hide_entity: True
    initial_state: True
    trigger:
      - platform: state
        entity_id: cover.single
        from: 'closed'
        to: 'open'
    action:
      - service: notify.ios_justin_iphone7
        data:
          message: "Justin's Garage is Open"
          data:
            push:
              sound: "US-EN-Morgan-Freeman-Garage-Door-Opened.wav"
              badge: 0
              category: 'GARAGE2'

  - alias: "Janis Garage Notification iOS"
    hide_entity: True
    initial_state: True
    trigger:
      - platform: state
        entity_id: cover.double
        from: 'closed'
        to: 'open'
    action:
      - service: notify.ios_janis_iphone
        data:
          message: "Janis' Garage is Open"
          data:
            push:
             sound: "US-EN-Daisy-Garage-Door-Open.wav"
             badge: 0
             category: 'GARAGE1'

  - alias: Notify iOS app
    initial_state: True
    hide_entity: True
    trigger:
      - platform: state
        entity_id: input_boolean.test_trigger #change this to actual trigger
    action:
        service: notify.ios_justin_iphone7
        data:
          title: "Alert" #customizable
          message: "Something happened at home!" #customizable 
          data:
            push:
              badge: 0 # this will remove the badge/app icon number
              category: 'DOOR'

  
  - alias: Notify iOS Janis Garage
    initial_state: True
    hide_entity: True
    trigger:
      - platform: time
        at: '22:00:00' #change this to actual trigger
    # trigger:
    #   - platform: state
    #     entity_id: input_boolean.garagetest
    condition:
      condition: state
      entity_id: cover.double
      state: open
    action:
        service: notify.ios_justin_iphone7
        data:
          title: "Janis' Garage Check" #customizable
          message: "It's 10pm and Janis' Garage is Open" #customizable 
          data:
            push:
              badge: 0 # this will remove the badge/app icon number
              category: 'GARAGE1'

  - alias: Notify iOS Justin Garage
    initial_state: True
    hide_entity: True
    trigger:
      - platform: time
        at: '22:00:00' #change this to actual trigger
    # trigger:
    #   - platform: state
    #     entity_id: input_boolean.garagetest
    condition:
      condition: state
      entity_id: cover.single
      state: open
    action:
        service: notify.ios_justin_iphone7
        data:
          title: "Justin Garage Check" #customizable
          message: "It's 10pm and Justin's Garage is Open" #customizable 
          data:
            push:
              badge: 0 # this will remove the badge/app icon number
              category: 'GARAGE2'
  
  - alias: iOS app notification action garage1
    initial_state: True
    hide_entity: True  
    trigger:
      platform: event
      event_type: ios.notification_action_fired
      event_data:
        actionName: CLOSE_JANIS
    action:
      service: cover.close_cover
      entity_id: cover.double

  - alias: iOS app notification action garage2
    initial_state: True
    hide_entity: True  
    trigger:
      platform: event
      event_type: ios.notification_action_fired
      event_data:
        actionName: CLOSE_JUSTIN
    action:
      service: cover.close_cover
      entity_id: cover.single

  - alias: iOS app notification action pressed1
    initial_state: true
    hide_entity: true  
    trigger:
      platform: event
      event_type: ios.notification_action_fired
      event_data:
        actionName: OPEN_FIRST
    action:
      service: input_boolean.turn_on
      entity_id: input_boolean.result
   
  - alias: iOS app notification action pressed2
    hide_entity: true
    initial_state: true
    trigger:
      platform: event
      event_type: ios.notification_action_fired
      event_data:
        actionName: OPEN_SECOND
    action:
      service: cover.close_cover
      entity_id: cover.double

  - alias: iOS app notification action pressed3
    hide_entity: true
    initial_state: true
    trigger:
      platform: event
      event_type: ios.notification_action_fired
      event_data:
        actionName: OPEN_THIRD
    action:
      service: cover.close_cover
      entity_id: cover.single
  
  - alias: iOS app AN Game WIN
    initial_state: true
    hide_entity: true
    trigger:
      platform: event
      event_type: ios.notification_action_fired
      event_data:
        actionName: WIN
    action:
      service: input_select.select_option
      data:
        entity_id: input_select.holiday_led_effect
        option: Touchdown

  - alias: iOS app AN Game LOSS
    initial_state: true
    hide_entity: true
    trigger:
      platform: event
      event_type: ios.notification_action_fired
      event_data:
        actionName: LOSS
    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.holiday_led_effect
          option: Solid
      - service: light.turn_off
        entity_id: light.holiday_lights

  - alias: HASS_theme
    initial_state: true
    trigger:
      - platform: state
        entity_id: input_select.hass_theme
    action:
      - service: frontend.set_theme
        data_template:
          name: '{{ states.input_select.hass_theme.state }}'


######################################################################


# Enables the frontend
frontend:
  themes: !include_dir_merge_named themes/

# Enables configuration UI
#config:

http:
  # Uncomment this to add a password (recommended!)
  api_password: Dr091774
  # Uncomment this if you are using SSL or running in Docker etc
  base_url: adensville.duckdns.org:8123

# Checks for available updates
updater:

# Blink security camera system
blink:
  username: justin.aden@gmail.com
  password: Dr091774
  
# Discover some devices automatically
discovery:

# Allows you to issue voice commands from the frontend in enabled browsers
conversation:

# Enables support for tracking state changes over time.
history:

# View all events in a logbook
logbook:

# Track the sun
sun:

# Weather Prediction
###################################################
##### Sensors #####
###################################################

sensor:
    - platform: time_date
      display_options:
        - 'date_time'
    # Weather
    - platform: yr
      monitored_conditions:
        - temperature
        - symbol
    
    #### Templates ####
    - platform: template
      sensors:
        # 3D Printer sensors
        hotend:
          friendly_name: 'Hotend'
          value_template: '{{ ((states.sensor.octoprint_actual_tool0_temp.state | float-32) | float*(5/9)) | round(1) }}'
          # NOT WORKING - unit_of_measurement: "°C"
        bed:
          friendly_name: "Bed"
          value_template: '{{ ((states.sensor.octoprint_actual_bed_temp.state | float-32) | float*(5/9)) | round(1) }}'
          # NOT WORKING - unit_of_measurement: "°C"
        printing_status:
          friendly_name: 'Printing Status'
          value_template: '{{states.binary_sensor.octoprint_printing.state}}'
          icon_template: '{% if is_state("binary_sensor.octoprint_printing", "off") %}mdi:sleep{% else %}mdi:printer-3d{% endif %}'
        printing_error_status:
          friendly_name: 'Printing Error Status'
          value_template: '{{states.binary_sensor.octoprint_printing_error.state}}'
          icon_template: '{% if is_state("binary_sensor.octoprint_printing_error", "off") %}mdi:thumb-up-outline{% else %}mdi:thumb-down{% endif %}'

    #OctoPrint
    - platform: octoprint
      name: OctoPrint
      monitored_conditions:
        - Current State
        - Temperatures
        - Job Percentage
    
    # - platform: worldclock
      # time_zone: America/Denver
      # name: Clock
      
      
    # Time and Date
    - platform: time_date
      display_options:
        #- 'time'
        #- 'date'
        #- 'beat'  
      

 ###################################################
 ##### Binary Sensors #####
###################################################

binary_sensor:
  # - platform: workday
    # country: US
    # workdays: sun
  - platform: octoprint
    monitored_conditions:
      - Printing
      - Printing Error
  # - platform: template
    # sensors:
      # printing_status:
        # friendly_name: 'Printing Status'
        # value_template: '{{states.binary_sensor.octoprint_printing.state}}'
        # #icon_template: '{% if is_state("binary_sensor.octoprint_printing", "off") %}mdi:sleep{% else %}mdi:printer-3d{% endif %}'
      # printing_error_status:
        # friendly_name: 'Printing Error Status'
        # value_template: '{{states.binary_sensor.octoprint_printing_error.state}}'
        # #icon_template: '{% if is_state("binary_sensor.octoprint_printing_error", "off") %}mdi:thumb-up-outline{% else %}mdi:thumb-down{% endif %}'

###################################################
##### Notifiy #####
###################################################
        
# notify:
#   - name: DrZzs
#     platform: telegram
#     api_key: 365020067:AAHLI3jL_s-MFXUqs-oT9vIvDGlY7_6Bjfk
#     chat_id: 332359870


#########################################
################ Sonoffs & Switches ########
#########################################
switch:
  - platform: mqtt
    name: "Back Porch"
    command_topic: "cmnd/sonoff/power"
    state_topic: "stat/sonoff/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Front Porch"
    command_topic: "cmnd/sonoff1/power"
    state_topic: "stat/sonoff1/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Office Light"
    command_topic: "cmnd/sonoff2/power"
    state_topic: "stat/sonoff2/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Theater"
    command_topic: "cmnd/sonoff3/power"
    state_topic: "stat/sonoff3/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Toy Room"
    command_topic: "cmnd/sonoff4/power"
    state_topic: "stat/sonoff4/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Side Porch"
    command_topic: "cmnd/sonoff5/power"
    state_topic: "stat/sonoff5/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Office Fan"
    command_topic: "cmnd/sonoff6/power"
    state_topic: "stat/sonoff6/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Sonoff 7"
    command_topic: "cmnd/sonoff7/power"
    state_topic: "stat/sonoff7/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Sonoff 8"
    command_topic: "cmnd/sonoff8/power"
    state_topic: "stat/sonoff8/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Office Crown"
    command_topic: "cmnd/sonoffsv2/power"
    state_topic: "stat/sonoffsv2/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Master Crown"
    command_topic: "cmnd/sonoffsv1/power"
    state_topic: "stat/sonoffsv1/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Dual1"
    command_topic: "cmnd/sonoffD1/power1"
    state_topic: "stat/sonoffD1/POWER1"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  - platform: mqtt
    name: "Dual2"
    command_topic: "cmnd/sonoffD1/power2"
    state_topic: "stat/sonoffD1/POWER2"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true 
 


#########################################
########### Garage Door Controls #########
#########################################

cover:
  - platform: mqtt
    name: "double"
    state_topic: "sensor/garage/statejanis"
    command_topic: "sensor/garage/actionjanis"
    payload_open: "OPEN"
    payload_close: "OPEN"
    payload_stop: "OPEN"
    state_open: "open"
    state_closed: "closed"
    optomistic: false
    retain: false
  - platform: mqtt
    name: "single"
    state_topic: "sensor/garage/statejustin"
    command_topic: "sensor/garage/actionjustin"
    payload_open: "OPEN"
    payload_close: "OPEN"
    payload_stop: "OPEN"
    state_open: "open"
    state_closed: "closed"
    optomistic: false
    retain: false

#############################

# Text to speech
tts:
  platform: google

ios:
  push:
    categories:
      - name: garage1
        identifier: 'GARAGE1'
        actions:
          - identifier: 'CLOSE_JANIS' ## this must point to an action ##
            title: 'Close Janis Garage Door'

      - name: garage2
        identifier: 'GARAGE2'
        actions:
          - identifier: 'CLOSE_JUSTIN' ## this must point to an action ##
            title: 'Close Justin Garage Door'

      - name: michigan
        identifier: 'GAME'
        actions:
          - identifier: 'WIN'
            title: 'They Won!'
          - identifier: 'LOSS'
            title: 'Not this time...'

      - name: door
        identifier: 'DOOR'
        actions:
          - identifier: 'OPEN_FIRST' ## these need to point to an action ##
            title: 'Open First'
          - identifier: 'OPEN_SECOND'
            title: 'Open Second'
          - identifier: 'OPEN_THIRD'
            title: 'Open Third'


###################################################
##### Input Boolean #####
###################################################      
      
input_boolean:
  garage_blink:
    name: Garage Blink
  #   retain: true

  test_trigger:
    name: Trigger for the test ### Trigger for the alert ###
    initial: off
    icon: mdi:pot-mix

  result:
    name: Results switch  ### condition for the alert ###
    initial: off
    icon: mdi:test-tube

  goblue:
    name: Go Blue!
    initial: off
    icon: mdi:football-helmet

  garagetest:
    name: Garage Test
    initial: off    

arlo:
  username: justin.aden@gmail.com
  password: Dr091774

device_tracker:
  - platform: owntracks
    max_gps_accuracy: 100

media_player:
  - platform: spotify
    client_id: fbd4bf1e800543828d77c34311384731
    client_secret: 4181e179360643ea85860e223be02801

group: !include groups.yaml

automation: !include automations.yaml
config: